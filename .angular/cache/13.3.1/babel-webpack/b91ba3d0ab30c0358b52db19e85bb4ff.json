{"ast":null,"code":"import _classCallCheck from \"D:\\\\material-dashboard-angular2-master\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"D:\\\\material-dashboard-angular2-master\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nimport { Component } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { Router, NavigationEnd, NavigationStart } from '@angular/router';\nimport PerfectScrollbar from 'perfect-scrollbar';\nimport * as $ from \"jquery\";\nimport { filter } from 'rxjs';\n\nvar AdminLayoutComponent = /*#__PURE__*/function () {\n  function AdminLayoutComponent(location, router) {\n    _classCallCheck(this, AdminLayoutComponent);\n\n    this.location = location;\n    this.router = router;\n    this.yScrollStack = [];\n  }\n\n  _createClass(AdminLayoutComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      var isWindows = navigator.platform.indexOf('Win') > -1 ? true : false;\n\n      if (isWindows && !document.getElementsByTagName('body')[0].classList.contains('sidebar-mini')) {\n        // if we are on windows OS we activate the perfectScrollbar function\n        document.getElementsByTagName('body')[0].classList.add('perfect-scrollbar-on');\n      } else {\n        document.getElementsByTagName('body')[0].classList.remove('perfect-scrollbar-off');\n      }\n\n      var elemMainPanel = document.querySelector('.main-panel');\n      var elemSidebar = document.querySelector('.sidebar .sidebar-wrapper');\n      this.location.subscribe(function (ev) {\n        _this.lastPoppedUrl = ev.url;\n      });\n      this.router.events.subscribe(function (event) {\n        if (event instanceof NavigationStart) {\n          if (event.url != _this.lastPoppedUrl) _this.yScrollStack.push(window.scrollY);\n        } else if (event instanceof NavigationEnd) {\n          if (event.url == _this.lastPoppedUrl) {\n            _this.lastPoppedUrl = undefined;\n            window.scrollTo(0, _this.yScrollStack.pop());\n          } else window.scrollTo(0, 0);\n        }\n      });\n      this._router = this.router.events.pipe(filter(function (event) {\n        return event instanceof NavigationEnd;\n      })).subscribe(function (event) {\n        elemMainPanel.scrollTop = 0;\n        elemSidebar.scrollTop = 0;\n      });\n\n      if (window.matchMedia(\"(min-width: 960px)\").matches && !this.isMac()) {\n        var ps = new PerfectScrollbar(elemMainPanel);\n        ps = new PerfectScrollbar(elemSidebar);\n      }\n\n      var window_width = $(window).width();\n      var $sidebar = $('.sidebar');\n      var $sidebar_responsive = $('body > .navbar-collapse');\n      var $sidebar_img_container = $sidebar.find('.sidebar-background');\n\n      if (window_width > 767) {\n        if ($('.fixed-plugin .dropdown').hasClass('show-dropdown')) {\n          $('.fixed-plugin .dropdown').addClass('open');\n        }\n      }\n\n      $('.fixed-plugin a').click(function (event) {\n        // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active\n        if ($(this).hasClass('switch-trigger')) {\n          if (event.stopPropagation) {\n            event.stopPropagation();\n          } else if (window.event) {\n            window.event.cancelBubble = true;\n          }\n        }\n      });\n      $('.fixed-plugin .badge').click(function () {\n        var $full_page_background = $('.full-page-background');\n        $(this).siblings().removeClass('active');\n        $(this).addClass('active');\n        var new_color = $(this).data('color');\n\n        if ($sidebar.length !== 0) {\n          $sidebar.attr('data-color', new_color);\n        }\n\n        if ($sidebar_responsive.length != 0) {\n          $sidebar_responsive.attr('data-color', new_color);\n        }\n      });\n      $('.fixed-plugin .img-holder').click(function () {\n        var $full_page_background = $('.full-page-background');\n        $(this).parent('li').siblings().removeClass('active');\n        $(this).parent('li').addClass('active');\n        var new_image = $(this).find(\"img\").attr('src');\n\n        if ($sidebar_img_container.length != 0) {\n          $sidebar_img_container.fadeOut('fast', function () {\n            $sidebar_img_container.css('background-image', 'url(\"' + new_image + '\")');\n            $sidebar_img_container.fadeIn('fast');\n          });\n        }\n\n        if ($full_page_background.length != 0) {\n          $full_page_background.fadeOut('fast', function () {\n            $full_page_background.css('background-image', 'url(\"' + new_image + '\")');\n            $full_page_background.fadeIn('fast');\n          });\n        }\n\n        if ($sidebar_responsive.length != 0) {\n          $sidebar_responsive.css('background-image', 'url(\"' + new_image + '\")');\n        }\n      });\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      this.runOnRouteChange();\n    }\n  }, {\n    key: \"isMaps\",\n    value: function isMaps(path) {\n      var titlee = this.location.prepareExternalUrl(this.location.path());\n      titlee = titlee.slice(1);\n\n      if (path == titlee) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }, {\n    key: \"runOnRouteChange\",\n    value: function runOnRouteChange() {\n      if (window.matchMedia(\"(min-width: 960px)\").matches && !this.isMac()) {\n        var elemMainPanel = document.querySelector('.main-panel');\n        var ps = new PerfectScrollbar(elemMainPanel);\n        ps.update();\n      }\n    }\n  }, {\n    key: \"isMac\",\n    value: function isMac() {\n      var bool = false;\n\n      if (navigator.platform.toUpperCase().indexOf('MAC') >= 0 || navigator.platform.toUpperCase().indexOf('IPAD') >= 0) {\n        bool = true;\n      }\n\n      return bool;\n    }\n  }]);\n\n  return AdminLayoutComponent;\n}();\n\nAdminLayoutComponent = __decorate([Component({\n  selector: 'app-admin-layout',\n  templateUrl: './admin-layout.component.html',\n  styleUrls: ['./admin-layout.component.scss']\n}), __metadata(\"design:paramtypes\", [Location, Router])], AdminLayoutComponent);\nexport { AdminLayoutComponent };","map":{"version":3,"sources":["D:/material-dashboard-angular2-master/src/app/layouts/admin-layout/admin-layout.component.ts"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","Component","Location","Router","NavigationEnd","NavigationStart","PerfectScrollbar","$","filter","AdminLayoutComponent","location","router","yScrollStack","isWindows","navigator","platform","indexOf","document","getElementsByTagName","classList","contains","add","remove","elemMainPanel","querySelector","elemSidebar","subscribe","ev","lastPoppedUrl","url","events","event","push","window","scrollY","undefined","scrollTo","pop","_router","pipe","scrollTop","matchMedia","matches","isMac","ps","window_width","width","$sidebar","$sidebar_responsive","$sidebar_img_container","find","hasClass","addClass","click","stopPropagation","cancelBubble","$full_page_background","siblings","removeClass","new_color","data","attr","parent","new_image","fadeOut","css","fadeIn","runOnRouteChange","path","titlee","prepareExternalUrl","slice","update","bool","toUpperCase","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { Router, NavigationEnd, NavigationStart } from '@angular/router';\r\nimport PerfectScrollbar from 'perfect-scrollbar';\r\nimport * as $ from \"jquery\";\r\nimport { filter } from 'rxjs';\r\nlet AdminLayoutComponent = class AdminLayoutComponent {\r\n    constructor(location, router) {\r\n        this.location = location;\r\n        this.router = router;\r\n        this.yScrollStack = [];\r\n    }\r\n    ngOnInit() {\r\n        const isWindows = navigator.platform.indexOf('Win') > -1 ? true : false;\r\n        if (isWindows && !document.getElementsByTagName('body')[0].classList.contains('sidebar-mini')) {\r\n            // if we are on windows OS we activate the perfectScrollbar function\r\n            document.getElementsByTagName('body')[0].classList.add('perfect-scrollbar-on');\r\n        }\r\n        else {\r\n            document.getElementsByTagName('body')[0].classList.remove('perfect-scrollbar-off');\r\n        }\r\n        const elemMainPanel = document.querySelector('.main-panel');\r\n        const elemSidebar = document.querySelector('.sidebar .sidebar-wrapper');\r\n        this.location.subscribe((ev) => {\r\n            this.lastPoppedUrl = ev.url;\r\n        });\r\n        this.router.events.subscribe((event) => {\r\n            if (event instanceof NavigationStart) {\r\n                if (event.url != this.lastPoppedUrl)\r\n                    this.yScrollStack.push(window.scrollY);\r\n            }\r\n            else if (event instanceof NavigationEnd) {\r\n                if (event.url == this.lastPoppedUrl) {\r\n                    this.lastPoppedUrl = undefined;\r\n                    window.scrollTo(0, this.yScrollStack.pop());\r\n                }\r\n                else\r\n                    window.scrollTo(0, 0);\r\n            }\r\n        });\r\n        this._router = this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe((event) => {\r\n            elemMainPanel.scrollTop = 0;\r\n            elemSidebar.scrollTop = 0;\r\n        });\r\n        if (window.matchMedia(`(min-width: 960px)`).matches && !this.isMac()) {\r\n            let ps = new PerfectScrollbar(elemMainPanel);\r\n            ps = new PerfectScrollbar(elemSidebar);\r\n        }\r\n        const window_width = $(window).width();\r\n        let $sidebar = $('.sidebar');\r\n        let $sidebar_responsive = $('body > .navbar-collapse');\r\n        let $sidebar_img_container = $sidebar.find('.sidebar-background');\r\n        if (window_width > 767) {\r\n            if ($('.fixed-plugin .dropdown').hasClass('show-dropdown')) {\r\n                $('.fixed-plugin .dropdown').addClass('open');\r\n            }\r\n        }\r\n        $('.fixed-plugin a').click(function (event) {\r\n            // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active\r\n            if ($(this).hasClass('switch-trigger')) {\r\n                if (event.stopPropagation) {\r\n                    event.stopPropagation();\r\n                }\r\n                else if (window.event) {\r\n                    window.event.cancelBubble = true;\r\n                }\r\n            }\r\n        });\r\n        $('.fixed-plugin .badge').click(function () {\r\n            let $full_page_background = $('.full-page-background');\r\n            $(this).siblings().removeClass('active');\r\n            $(this).addClass('active');\r\n            var new_color = $(this).data('color');\r\n            if ($sidebar.length !== 0) {\r\n                $sidebar.attr('data-color', new_color);\r\n            }\r\n            if ($sidebar_responsive.length != 0) {\r\n                $sidebar_responsive.attr('data-color', new_color);\r\n            }\r\n        });\r\n        $('.fixed-plugin .img-holder').click(function () {\r\n            let $full_page_background = $('.full-page-background');\r\n            $(this).parent('li').siblings().removeClass('active');\r\n            $(this).parent('li').addClass('active');\r\n            var new_image = $(this).find(\"img\").attr('src');\r\n            if ($sidebar_img_container.length != 0) {\r\n                $sidebar_img_container.fadeOut('fast', function () {\r\n                    $sidebar_img_container.css('background-image', 'url(\"' + new_image + '\")');\r\n                    $sidebar_img_container.fadeIn('fast');\r\n                });\r\n            }\r\n            if ($full_page_background.length != 0) {\r\n                $full_page_background.fadeOut('fast', function () {\r\n                    $full_page_background.css('background-image', 'url(\"' + new_image + '\")');\r\n                    $full_page_background.fadeIn('fast');\r\n                });\r\n            }\r\n            if ($sidebar_responsive.length != 0) {\r\n                $sidebar_responsive.css('background-image', 'url(\"' + new_image + '\")');\r\n            }\r\n        });\r\n    }\r\n    ngAfterViewInit() {\r\n        this.runOnRouteChange();\r\n    }\r\n    isMaps(path) {\r\n        var titlee = this.location.prepareExternalUrl(this.location.path());\r\n        titlee = titlee.slice(1);\r\n        if (path == titlee) {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n    runOnRouteChange() {\r\n        if (window.matchMedia(`(min-width: 960px)`).matches && !this.isMac()) {\r\n            const elemMainPanel = document.querySelector('.main-panel');\r\n            const ps = new PerfectScrollbar(elemMainPanel);\r\n            ps.update();\r\n        }\r\n    }\r\n    isMac() {\r\n        let bool = false;\r\n        if (navigator.platform.toUpperCase().indexOf('MAC') >= 0 || navigator.platform.toUpperCase().indexOf('IPAD') >= 0) {\r\n            bool = true;\r\n        }\r\n        return bool;\r\n    }\r\n};\r\nAdminLayoutComponent = __decorate([\r\n    Component({\r\n        selector: 'app-admin-layout',\r\n        templateUrl: './admin-layout.component.html',\r\n        styleUrls: ['./admin-layout.component.scss']\r\n    }),\r\n    __metadata(\"design:paramtypes\", [Location, Router])\r\n], AdminLayoutComponent);\r\nexport { AdminLayoutComponent };\r\n"]},"metadata":{},"sourceType":"module"}